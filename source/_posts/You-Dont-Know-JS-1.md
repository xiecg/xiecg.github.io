---
title: 你不知道的 JavaScript 上卷笔记
date: 2017-04-06 22:58:00
tags:
---

上卷很早就拜读过了，当时没有记录下来，这次也算是复习下。

#### 1：作用域是什么 ？

作用域是一套规则，用于确定在何处以及如何查找变量(标识符)。如果查找的目的是对变量进行赋值，那么就会使用 `LHS` 查询; 如果目的是获取变量的值，就会使用 `RHS` 查询。

`LHS` 和 `RHS` 查询都会在当前执行作用域中开始，如果当前找不到，会向上级作用域继续查找，最后到顶级作用域，无论找到或没找到都将停止。

不成功的 `RHS` 引用会导致抛出 `ReferenceError` 异常。不成功的 `LHS` 引用会导致自动隐式 地创建一个全局变量 `(非严格模式下)`，该变量使用 `LHS` 引用的目标作为标识符，或者抛出 `ReferenceError` 异常`(严格模式下)`。

#### 2：词法作用域

`词法作用域`意味着作用域是由书写代码时函数声明的位置来决定的，编译的词法分析阶段就能知道标识符在哪里以及如何声明，从而能够在执行的过程中如何对它们进行查找。

`eval`和 `with`都能够欺骗词法作用域：

`eval` 是将一个字符串代码进行演算，并且来修改以及存在的词法作用域。
`with`是讲一个对象的引用来当做作用域来处理，将对象的属性当做标识符来处理，从而创建一个新的词法作用域`（如果对象的属性不存在，会在全局创建一个）`。

